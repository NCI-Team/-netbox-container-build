# Use your custom Python 3.11 environment as the base image
FROM docker.io/library/python:3.11.3

COPY requirements.txt /tmp/requirements.txt

RUN pip3 install -r /tmp/requirements.txt

RUN rm /tmp/requirements.txt

RUN mkdir /opt/vscode-server/

COPY extensions /opt/vscode-server/

WORKDIR /opt/vscode-server/

CMD [ "/bin/bash", "-c", "/opt/vscode-server/extensions.sh" ]
